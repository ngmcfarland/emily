{
    "intent": "LIBRARIAN",
    "topics": [
        {
            "topic": "NONE",
            "categories": [
                {
                    "pattern": "INDEX A NEW FILE",
                    "template": {
                        "type": "W",
                        "command": "emily_librarian.browse_library()",
                        "vars": [
                            {
                                "name": "topic",
                                "value": "INDEXFILE"
                            }
                        ],
                        "response": "Input the number of the file you would like to index:\n{{response}}"
                    }
                },
                {
                    "pattern": "SEARCH *",
                    "template": {
                        "type": "W",
                        "command": "emily_librarian.answer_question('{{json_file}}','{{index_file}}','{{1}}','search')",
                        "response": "{{}}"
                    }
                },
                {
                    "pattern": "QUANTITY *",
                    "template": {
                        "type": "W",
                        "command": "emily_librarian.answer_question('{{json_file}}','{{index_file}}','{{1}}','quantity')",
                        "response": "{{}}"
                    }
                },
                {
                    "pattern": "WHAT IS THE *",
                    "template": {
                        "type": "U",
                        "redirect": "SEARCH {{1}}"
                    }
                },
                {
                    "pattern": "WHAT IS *",
                    "template": {
                        "type": "U",
                        "redirect": "SEARCH {{1}}"
                    }
                },
                {
                    "pattern": "WHAT *",
                    "template": {
                        "type": "U",
                        "redirect": "SEARCH {{1}}"
                    }
                },
                {
                    "pattern": "HOW MUCH *",
                    "template": {
                        "type": "U",
                        "redirect": "SEARCH {{1}}"
                    }
                },
                {
                    "pattern": "HOW MANY *",
                    "template": {
                        "type": "U",
                        "redirect": "QUANTITY {{1}}"
                    }
                }
            ]
        },
        {
            "topic": "INDEXFILE",
            "categories": [
                {
                    "pattern": "*",
                    "template": {
                        "type": "W",
                        "command": "emily_librarian.index_json('{{1}}','browse')",
                        "vars": [
                            {
                                "name": "json_file",
                                "value": "{{json_file}}"
                            },
                            {
                                "name": "index_file",
                                "value": "{{index_file}}"
                            }
                        ],
                        "reset": ["topic"],
                        "response": "You can now ask me questions about {{json_file}}"
                    }
                }
            ]
        }
    ]
}